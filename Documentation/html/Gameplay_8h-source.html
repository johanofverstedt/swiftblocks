<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Gameplay.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Gameplay.h</h1><a href="Gameplay_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00014 <span class="preprocessor">#ifndef GAMEPLAY_H</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define GAMEPLAY_H</span>
00016 <span class="preprocessor"></span>
00017 <span class="comment">//SDL header:</span>
00018 <span class="preprocessor">#include "SDL.h"</span>
00019 
00020 <span class="comment">//Game headers:</span>
00021 <span class="preprocessor">#include "<a class="code" href="Blocks_8h.html">Blocks.h</a>"</span>
00022 
00032 <span class="preprocessor">#define GRID_COLS 8</span>
00033 <span class="preprocessor"></span>
00043 <span class="preprocessor">#define GRID_ROWS 18</span>
00044 <span class="preprocessor"></span>
00054 <span class="preprocessor">#define MAX_LEVELS 8</span>
00055 <span class="preprocessor"></span>
00066 <span class="keyword">enum</span> <a class="code" href="Gameplay_8h.html#a12">CollisionState</a>
00067 { 
00068 
00069         <a class="code" href="Gameplay_8h.html#a12a3">NoCollision</a> = 0,
00070         <a class="code" href="Gameplay_8h.html#a12a4">RightBorderCollision</a> = 1,
00071         <a class="code" href="Gameplay_8h.html#a12a5">LeftBorderCollision</a> = 2,
00072         <a class="code" href="Gameplay_8h.html#a12a6">BlockCollision</a> = 3,
00073         <a class="code" href="Gameplay_8h.html#a12a7">DownCollision</a> = 4
00074 
00075 };
00076 
00086 <span class="keyword">enum</span> <a class="code" href="Gameplay_8h.html#a13">InputConfig</a>
00087 {
00088 
00089         <a class="code" href="Gameplay_8h.html#a13a8">RotateKey</a> = 0,
00090         <a class="code" href="Gameplay_8h.html#a13a9">LeftKey</a> = 1,
00091         <a class="code" href="Gameplay_8h.html#a13a10">RightKey</a> = 2,
00092         <a class="code" href="Gameplay_8h.html#a13a11">DownKey</a> = 3
00093 
00094 };
00095 
00112 <span class="keyword">class </span><a class="code" href="classTetrisEngine.html">TetrisEngine</a>
00113 {
00114 
00115 <span class="keyword">public</span>:
00116         
00117         <a class="code" href="classTetrisEngine.html#a0">TetrisEngine</a>(<span class="keywordtype">long</span> xpos, <span class="keywordtype">long</span> ypos);
00118 
00119         <a class="code" href="classTetrisEngine.html#a1">~TetrisEngine</a>();
00120 
00121         <span class="keywordtype">void</span> <a class="code" href="classTetrisEngine.html#a2">bindToGrid</a>(<a class="code" href="classBlock.html">Block</a> *b);
00122 
00123         <a class="code" href="Gameplay_8h.html#a12">CollisionState</a> <a class="code" href="classTetrisEngine.html#a3">blockCollision</a>(<a class="code" href="classBlock.html">Block</a> *b, <span class="keywordtype">long</span> dx, <span class="keywordtype">long</span> dy);
00124 
00125         <span class="keywordtype">void</span> <a class="code" href="classTetrisEngine.html#a4">changeBGR</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *newBGR);
00126 
00127         <span class="keywordtype">void</span> <a class="code" href="classTetrisEngine.html#a5">destroyGame</a>();
00128 
00129         <span class="keywordtype">bool</span> <a class="code" href="classTetrisEngine.html#a6">drawGame</a>();
00130         
00131         <span class="keywordtype">void</span> <a class="code" href="classTetrisEngine.html#a7">eliminateRows</a>();
<a name="l00132"></a><a class="code" href="classTetrisEngine.html#a8">00132</a> 
00133         <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classTetrisEngine.html#a8">getBGR</a>() { <span class="keywordflow">return</span> <a class="code" href="classTetrisEngine.html#n11">m_bgr</a>; }
<a name="l00134"></a><a class="code" href="classTetrisEngine.html#a9">00134</a> 
00135         <span class="keywordtype">bool</span> <a class="code" href="classTetrisEngine.html#a9">getCountScore</a>() { <span class="keywordflow">return</span> <a class="code" href="classTetrisEngine.html#n17">m_countScore</a>; }
<a name="l00136"></a><a class="code" href="classTetrisEngine.html#a10">00136</a> 
00137         <span class="keywordtype">bool</span> <a class="code" href="classTetrisEngine.html#a10">getGameOver</a>() { <span class="keywordflow">return</span> <a class="code" href="classTetrisEngine.html#n30">m_gameOver</a>; }
00138 
00139         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#a11">getKeyConfig</a>(<a class="code" href="Gameplay_8h.html#a13">InputConfig</a> ic);
<a name="l00140"></a><a class="code" href="classTetrisEngine.html#a12">00140</a> 
00141         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#a12">getLevel</a>() { <span class="keywordflow">return</span> <a class="code" href="classTetrisEngine.html#n16">m_level</a>; }
<a name="l00142"></a><a class="code" href="classTetrisEngine.html#a13">00142</a> 
00143         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#a13">getLinesErased</a>() { <span class="keywordflow">return</span> <a class="code" href="classTetrisEngine.html#n15">m_linesErased</a>; }
<a name="l00144"></a><a class="code" href="classTetrisEngine.html#a14">00144</a> 
00145         <span class="keywordtype">bool</span> <a class="code" href="classTetrisEngine.html#a14">getPauseState</a>() { <span class="keywordflow">return</span> <a class="code" href="classTetrisEngine.html#n29">m_pause</a>; }
<a name="l00146"></a><a class="code" href="classTetrisEngine.html#a15">00146</a> 
00147         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#a15">getScore</a>() { <span class="keywordflow">return</span> <a class="code" href="classTetrisEngine.html#n18">m_score</a>; }
<a name="l00148"></a><a class="code" href="classTetrisEngine.html#a16">00148</a> 
00149         SDL_Surface *<a class="code" href="classTetrisEngine.html#a16">getScreen</a>() { <span class="keywordflow">return</span> <a class="code" href="classTetrisEngine.html#n0">m_screen</a>; }
<a name="l00150"></a><a class="code" href="classTetrisEngine.html#a17">00150</a> 
00151         <span class="keywordtype">bool</span> <a class="code" href="classTetrisEngine.html#a17">getSoundEnabled</a>() { <span class="keywordflow">return</span> <a class="code" href="classTetrisEngine.html#n32">m_soundEnabled</a>; }
<a name="l00152"></a><a class="code" href="classTetrisEngine.html#a18">00152</a> 
00153         <span class="keywordtype">bool</span> <a class="code" href="classTetrisEngine.html#a18">getWinner</a>() { <span class="keywordflow">return</span> <a class="code" href="classTetrisEngine.html#n31">m_winner</a>; }
00154 
00155         <span class="keywordtype">bool</span> <a class="code" href="classTetrisEngine.html#a19">loadGame</a>();
00156 
00157         <span class="keywordtype">void</span> <a class="code" href="classTetrisEngine.html#a20">resetGame</a>();
<a name="l00158"></a><a class="code" href="classTetrisEngine.html#a21">00158</a>         
00159         <span class="keywordtype">void</span> <a class="code" href="classTetrisEngine.html#a21">setCountScore</a>(<span class="keywordtype">bool</span> cs) { <a class="code" href="classTetrisEngine.html#n17">m_countScore</a> = cs; }
<a name="l00160"></a><a class="code" href="classTetrisEngine.html#a22">00160</a> 
00161         <span class="keywordtype">void</span> <a class="code" href="classTetrisEngine.html#a22">setGameOver</a>(<span class="keywordtype">bool</span> go) { <a class="code" href="classTetrisEngine.html#n30">m_gameOver</a> = go; }
00162         
00163         <span class="keywordtype">void</span> <a class="code" href="classTetrisEngine.html#a23">setKeyConfig</a>(<a class="code" href="Gameplay_8h.html#a13">InputConfig</a> ic, <span class="keywordtype">long</span> newKey);
00164 
00165         <span class="keywordtype">void</span> <a class="code" href="classTetrisEngine.html#a24">setLevel</a>(<span class="keywordtype">long</span> newLevel);
<a name="l00166"></a><a class="code" href="classTetrisEngine.html#a25">00166</a> 
00167         <span class="keywordtype">void</span> <a class="code" href="classTetrisEngine.html#a25">setPauseState</a>(<span class="keywordtype">bool</span> np) { <a class="code" href="classTetrisEngine.html#n29">m_pause</a> = np; }
<a name="l00168"></a><a class="code" href="classTetrisEngine.html#a26">00168</a> 
00169         <span class="keywordtype">void</span> <a class="code" href="classTetrisEngine.html#a26">setScreen</a>(SDL_Surface *scr) { <a class="code" href="classTetrisEngine.html#n0">m_screen</a> = scr; }
<a name="l00170"></a><a class="code" href="classTetrisEngine.html#a27">00170</a> 
00171         <span class="keywordtype">void</span> <a class="code" href="classTetrisEngine.html#a27">setSoundEnabled</a>(<span class="keywordtype">bool</span> e) { <a class="code" href="classTetrisEngine.html#n32">m_soundEnabled</a> = e; }
<a name="l00172"></a><a class="code" href="classTetrisEngine.html#a28">00172</a> 
00173         <span class="keywordtype">void</span> <a class="code" href="classTetrisEngine.html#a28">setWinner</a>(<span class="keywordtype">bool</span> w) { <a class="code" href="classTetrisEngine.html#n31">m_winner</a> = w; }
<a name="l00174"></a><a class="code" href="classTetrisEngine.html#a29">00174</a> 
00175         <span class="keywordtype">void</span> <a class="code" href="classTetrisEngine.html#a29">setX</a>(<span class="keywordtype">long</span> nx) { <a class="code" href="classTetrisEngine.html#n34">m_x</a> = nx; }
<a name="l00176"></a><a class="code" href="classTetrisEngine.html#a30">00176</a> 
00177         <span class="keywordtype">void</span> <a class="code" href="classTetrisEngine.html#a30">setY</a>(<span class="keywordtype">long</span> ny) { <a class="code" href="classTetrisEngine.html#n35">m_y</a> = ny; }
00178 
00179         <span class="keywordtype">void</span> <a class="code" href="classTetrisEngine.html#a31">updateGame</a>();
00180 
00181 <span class="keyword">protected</span>:
00182 
00192         SDL_Surface *<a class="code" href="classTetrisEngine.html#n0">m_screen</a>;
00193 
00203         SDL_Surface *<a class="code" href="classTetrisEngine.html#n1">m_gameField</a>;
00204 
00214         SDL_Surface *<a class="code" href="classTetrisEngine.html#n2">m_blocks</a>[6];
00215 
00226         SDL_Surface *<a class="code" href="classTetrisEngine.html#n3">m_scoreBoard</a>;
00227 
00237         FSOUND_SAMPLE *<a class="code" href="classTetrisEngine.html#n4">m_levelUpSound</a>;
00238 
00248         FSOUND_SAMPLE *<a class="code" href="classTetrisEngine.html#n5">m_lineRemoveSound</a>;
00249 
00259         FSOUND_SAMPLE *<a class="code" href="classTetrisEngine.html#n6">m_gameOverSound</a>;
00260 
00270         SDL_Rect <a class="code" href="classTetrisEngine.html#n7">m_fieldRect</a>;
00271 
00281         SDL_Rect <a class="code" href="classTetrisEngine.html#n8">m_scoreRect</a>;
00282 
00292         SDL_Rect <a class="code" href="classTetrisEngine.html#n9">m_blockRect</a>;
00293 
00304         BFont_Info *<a class="code" href="classTetrisEngine.html#n10">m_scoreFont</a>;
00305 
00315         <span class="keywordtype">char</span> *<a class="code" href="classTetrisEngine.html#n11">m_bgr</a>;
00316 
00326         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#n12">m_grid</a>[<a class="code" href="Gameplay_8h.html#a0">GRID_COLS</a>][<a class="code" href="Gameplay_8h.html#a1">GRID_ROWS</a>];
00327 
00337         <span class="keywordtype">bool</span> <a class="code" href="classTetrisEngine.html#n13">m_linesToRemove</a>[<a class="code" href="Gameplay_8h.html#a1">GRID_ROWS</a>];
00338 
00347         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#n14">m_linesToRemoveCount</a>;
00348 
00358         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#n15">m_linesErased</a>;
00359 
00369         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#n16">m_level</a>;
00370 
00380         <span class="keywordtype">bool</span> <a class="code" href="classTetrisEngine.html#n17">m_countScore</a>;
00381 
00390         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#n18">m_score</a>;
00391 
00403         <span class="keywordtype">double</span> <a class="code" href="classTetrisEngine.html#n19">m_smoothFactorX</a>;
00404 
00416         <span class="keywordtype">double</span> <a class="code" href="classTetrisEngine.html#n20">m_smoothFactorY</a>;
00417 
00429         <span class="keywordtype">double</span> <a class="code" href="classTetrisEngine.html#n21">m_smoothFactorFade</a>;
00430 
00442         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#n22">m_deltaX</a>;
00443 
00454         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#n23">m_deltaY</a>;
00455 
00465         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#n24">m_downKey</a>;
00466 
00476         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#n25">m_leftKey</a>;
00477 
00487         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#n26">m_rightKey</a>;
00488 
00497         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#n27">m_rotateKey</a>;
00498 
00509         <span class="keywordtype">bool</span> <a class="code" href="classTetrisEngine.html#n28">m_removing</a>;
00510 
00521         <span class="keywordtype">bool</span> <a class="code" href="classTetrisEngine.html#n29">m_pause</a>;
00522 
00534         <span class="keywordtype">bool</span> <a class="code" href="classTetrisEngine.html#n30">m_gameOver</a>;
00535 
00547         <span class="keywordtype">bool</span> <a class="code" href="classTetrisEngine.html#n31">m_winner</a>;
00548 
00558         <span class="keywordtype">bool</span> <a class="code" href="classTetrisEngine.html#n32">m_soundEnabled</a>;
00559         
00570         <span class="keywordtype">bool</span> <a class="code" href="classTetrisEngine.html#n33">m_bindNext</a>;
00571 
00581         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#n34">m_x</a>;
00582 
00592         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#n35">m_y</a>;
00593 
00604         <span class="keywordtype">long</span> <a class="code" href="classTetrisEngine.html#n36">m_startTime</a>;
00605 
00614         <a class="code" href="classBlock.html">Block</a> <a class="code" href="classTetrisEngine.html#n37">m_gameBlock</a>;
00615 
00624         <a class="code" href="classBlock.html">Block</a> <a class="code" href="classTetrisEngine.html#n38">m_nextBlock</a>;
00625         
00626 };
00627 
00628 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Wed Jan 8 19:41:41 2003 for Swift blocks by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc1 </small></address>
</body>
</html>
