<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Blocks.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>Blocks.cpp</h1><a href="Blocks_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00013 <span class="comment">//Basic Input/Output header:</span>
00014 <span class="preprocessor">#include &lt;iostream&gt;</span>
00015 
00016 <span class="comment">//Time header:</span>
00017 <span class="preprocessor">#include "time.h"</span>
00018 
00019 <span class="comment">//Game headers:</span>
00020 <span class="preprocessor">#include "<a class="code" href="Blocks_8h.html">Blocks.h</a>"</span>
00021 
00030 <span class="keywordtype">void</span> <a class="code" href="classBlock.html#a1">Block::clear</a>()
00031 {
00032 
00033         <span class="keywordflow">for</span>(<span class="keywordtype">long</span> i = 0; i &lt; 4; ++i)
00034         {
00035 
00036                 <span class="keywordflow">for</span>(<span class="keywordtype">long</span> j = 0; j &lt; 18; ++j)
00037                 {
00038 
00039                         m_shape[i][j] = 0;
00040 
00041                 }
00042 
00043         }
00044 
00045         m_maxDirections = 0;
00046         m_direction = 0;
00047 
00048         m_x = 0;
00049         m_y = 0;
00050 
00051 }
00052 
00062 <span class="keywordtype">void</span> <a class="code" href="classBlock.html#a2">Block::createRandomBlock</a>()
00063 {
00064 
00065         <span class="keyword">static</span> <span class="keywordtype">long</span> seed = 0;
00066 
00067         <span class="keywordflow">if</span>(seed == 0)
00068         {
00069                 
00070                 seed = time(0);
00071 
00072                 srand(seed);
00073 
00074         }
00075 
00076         seed *= time(0) % 255;
00077 
00078         <span class="keywordtype">long</span> newShape = (rand()) % 7;
00079 
00080         <span class="keywordflow">if</span>(newShape == 7)
00081                 newShape = 0;
00082 
00083         <span class="keywordflow">if</span>(newShape == 8)
00084                 newShape = 3;
00085 
00086         <span class="keywordflow">if</span>(newShape == 9)
00087                 newShape = 4;
00088 
00089         clear();
00090 
00091         <span class="keywordflow">switch</span>(newShape)
00092         {
00093 
00094         <span class="comment">/*</span>
00095 <span class="comment">        </span>
00096 <span class="comment">                0X00    0000</span>
00097 <span class="comment">                0X00    0000</span>
00098 <span class="comment">                0X00    XXXX</span>
00099 <span class="comment">                0X00    0000</span>
00100 <span class="comment">                </span>
00101 <span class="comment">        */</span>
00102 
00103         <span class="keywordflow">case</span> 0:
00104                 {
00105 
00106                         <span class="keywordtype">long</span> color = (rand() % 2) + 1;
00107 
00108                         <span class="keywordflow">if</span>(color == 2)
00109                                 color = 6;
00110 
00111                         m_shape[0][1] = color;
00112                         m_shape[0][5] = color;
00113                         m_shape[0][9] = color;
00114                         m_shape[0][13] = color;
00115 
00116                         m_shape[1][8] = color;
00117                         m_shape[1][9] = color;
00118                         m_shape[1][10] = color;
00119                         m_shape[1][11] = color;
00120 
00121                         m_maxDirections = 2;
00122                         
00123                         <span class="keywordflow">break</span>;
00124 
00125                 }
00126 
00127         <span class="comment">/*</span>
00128 <span class="comment">        </span>
00129 <span class="comment">                0000</span>
00130 <span class="comment">                0XX0</span>
00131 <span class="comment">                0XX0</span>
00132 <span class="comment">                0000</span>
00133 <span class="comment">                </span>
00134 <span class="comment">        */</span>
00135 
00136         <span class="keywordflow">case</span> 1:
00137                 {
00138 
00139                         <span class="keywordtype">long</span> color = (rand() % 2) + 1;
00140 
00141                         <span class="keywordflow">if</span>(color == 1)
00142                                 color = 2;
00143                         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(color == 2)
00144                                 color = 3;
00145 
00146                         m_shape[0][5] = color;
00147                         m_shape[0][6] = color;
00148                         m_shape[0][9] = color;
00149                         m_shape[0][10] = color;
00150 
00151                         m_maxDirections = 1;
00152                         
00153                         <span class="keywordflow">break</span>;
00154 
00155                 }
00156 
00157         <span class="comment">/*</span>
00158 <span class="comment">        </span>
00159 <span class="comment">                0000    0000</span>
00160 <span class="comment">                0XX0    00X0</span>
00161 <span class="comment">                00XX    0XX0</span>
00162 <span class="comment">                0000    0X00</span>
00163 <span class="comment">                </span>
00164 <span class="comment">        */</span>
00165 
00166         <span class="keywordflow">case</span> 2:
00167                 {
00168 
00169                         <span class="keywordtype">long</span> color = (rand() % 2) + 1;
00170 
00171                         <span class="keywordflow">if</span>(color == 1)
00172                                 color = 4;
00173                         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(color == 2)
00174                                 color = 5;
00175 
00176                         m_shape[0][5] = color;
00177                         m_shape[0][6] = color;
00178                         m_shape[0][10] = color;
00179                         m_shape[0][11] = color;
00180 
00181                         m_shape[1][6] = color;
00182                         m_shape[1][9] = color;
00183                         m_shape[1][10] = color;
00184                         m_shape[1][13] = color;
00185 
00186                         m_maxDirections = 2;
00187                         
00188                         <span class="keywordflow">break</span>;
00189 
00190                 }
00191 
00192         <span class="comment">/*</span>
00193 <span class="comment">        </span>
00194 <span class="comment">                0000    0000    0000    0000</span>
00195 <span class="comment">                0X00    0XXX    00XX    0000</span>
00196 <span class="comment">                0X00    0X00    000X    000X</span>
00197 <span class="comment">                0XX0    0000    000X    0XXX</span>
00198 <span class="comment">                </span>
00199 <span class="comment">        */</span>
00200 
00201         <span class="keywordflow">case</span> 3:
00202                 {
00203 
00204                         <span class="keywordtype">long</span> color = (rand() % 2) + 1;
00205 
00206                         <span class="keywordflow">if</span>(color == 1)
00207                                 color = 5;
00208                         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(color == 2)
00209                                 color = 1;
00210 
00211                         m_shape[0][5] = color;
00212                         m_shape[0][9] = color;
00213                         m_shape[0][13] = color;
00214                         m_shape[0][14] = color;
00215 
00216                         m_shape[1][5] = color;
00217                         m_shape[1][6] = color;
00218                         m_shape[1][7] = color;
00219                         m_shape[1][9] = color;
00220 
00221                         m_shape[2][6] = color;
00222                         m_shape[2][7] = color;
00223                         m_shape[2][11] = color;
00224                         m_shape[2][15] = color;
00225 
00226                         m_shape[3][13] = color;
00227                         m_shape[3][14] = color;
00228                         m_shape[3][11] = color;
00229                         m_shape[3][15] = color;
00230 
00231                         m_maxDirections = 4;
00232                         
00233                         <span class="keywordflow">break</span>;
00234 
00235                 }
00236 
00237         <span class="comment">/*</span>
00238 <span class="comment">        </span>
00239 <span class="comment">                0000    0000    0000    0000</span>
00240 <span class="comment">                00X0    0000    0XX0    0XXX</span>
00241 <span class="comment">                00X0    0X00    0X00    000X</span>
00242 <span class="comment">                0XX0    0XXX    0X00    0000</span>
00243 <span class="comment">                </span>
00244 <span class="comment">        */</span>
00245 
00246         <span class="keywordflow">case</span> 4:
00247                 {
00248 
00249                         <span class="keywordtype">long</span> color = (rand() % 2) + 1;
00250 
00251                         <span class="keywordflow">if</span>(color == 1)
00252                                 color = 4;
00253                         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(color == 2)
00254                                 color = 3;
00255 
00256                         m_shape[0][6] = color;
00257                         m_shape[0][10] = color;
00258                         m_shape[0][13] = color;
00259                         m_shape[0][14] = color;
00260 
00261                         m_shape[1][9] = color;
00262                         m_shape[1][13] = color;
00263                         m_shape[1][14] = color;
00264                         m_shape[1][15] = color;
00265 
00266                         m_shape[2][5] = color;
00267                         m_shape[2][6] = color;
00268                         m_shape[2][9] = color;
00269                         m_shape[2][13] = color;
00270 
00271                         m_shape[3][5] = color;
00272                         m_shape[3][6] = color;
00273                         m_shape[3][7] = color;
00274                         m_shape[3][11] = color;
00275 
00276                         m_maxDirections = 4;
00277                         
00278                         <span class="keywordflow">break</span>;
00279 
00280                 }
00281 
00282         <span class="comment">/*</span>
00283 <span class="comment">        </span>
00284 <span class="comment">                0000    0000</span>
00285 <span class="comment">                00XX    0X00</span>
00286 <span class="comment">                0XX0    0XX0</span>
00287 <span class="comment">                0000    00X0</span>
00288 <span class="comment">                </span>
00289 <span class="comment">        */</span>
00290 
00291         <span class="keywordflow">case</span> 5:
00292                 {
00293 
00294                         <span class="keywordtype">long</span> color = (rand() % 2) + 1;
00295 
00296                         <span class="keywordflow">if</span>(color == 1)
00297                                 color = 2;
00298                         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(color == 2)
00299                                 color = 6;
00300 
00301                         m_shape[0][6] = color;
00302                         m_shape[0][7] = color;
00303                         m_shape[0][9] = color;
00304                         m_shape[0][10] = color;
00305 
00306                         m_shape[1][6] = color;
00307                         m_shape[1][10] = color;
00308                         m_shape[1][11] = color;
00309                         m_shape[1][15] = color;
00310 
00311                         m_maxDirections = 2;
00312                         
00313                         <span class="keywordflow">break</span>;
00314 
00315                 }
00316 
00317         <span class="comment">/*</span>
00318 <span class="comment">        </span>
00319 <span class="comment">                0000    0000    0000    0000</span>
00320 <span class="comment">                0000    0X00    0XXX    000X</span>
00321 <span class="comment">                00X0    0XX0    00X0    00XX</span>
00322 <span class="comment">                0XXX    0X00    0000    000X</span>
00323 <span class="comment">                </span>
00324 <span class="comment">        */</span>
00325 
00326         <span class="keywordflow">case</span> 6:
00327                 {
00328 
00329                         <span class="keywordtype">long</span> color = (rand() % 2) + 1;
00330 
00331                         <span class="keywordflow">if</span>(color == 1)
00332                                 color = 4;
00333                         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(color == 2)
00334                                 color = 6;
00335 
00336                         m_shape[0][10] = color;
00337                         m_shape[0][13] = color;
00338                         m_shape[0][14] = color;
00339                         m_shape[0][15] = color;
00340 
00341                         m_shape[1][5] = color;
00342                         m_shape[1][9] = color;
00343                         m_shape[1][10] = color;
00344                         m_shape[1][13] = color;
00345 
00346                         m_shape[2][5] = color;
00347                         m_shape[2][6] = color;
00348                         m_shape[2][7] = color;
00349                         m_shape[2][10] = color;
00350 
00351                         m_shape[3][7] = color;
00352                         m_shape[3][10] = color;
00353                         m_shape[3][11] = color;
00354                         m_shape[3][15] = color;
00355 
00356                         m_maxDirections = 4;
00357                         
00358                         <span class="keywordflow">break</span>;
00359 
00360                 }
00361 
00362         }
00363 
00364 }
00365 
00376 <span class="keywordtype">void</span> <a class="code" href="classBlock.html#a8">Block::rotate</a>(<span class="keywordtype">bool</span> reverse)
00377 {
00378 
00379         <span class="keywordflow">if</span>(!reverse)
00380         {
00381 
00382                 <span class="keywordflow">if</span>((m_direction + 1) &gt;= m_maxDirections)
00383                 {
00384 
00385                         m_direction = 0;
00386 
00387                 } <span class="keywordflow">else</span> {
00388 
00389                         ++m_direction;
00390 
00391                 }
00392 
00393         } <span class="keywordflow">else</span> {
00394 
00395                 <span class="keywordflow">if</span>((m_direction - 1) &lt; 0)
00396                 {
00397 
00398                         m_direction = m_maxDirections - 1;
00399 
00400                 } <span class="keywordflow">else</span> {
00401 
00402                         --m_direction;
00403 
00404                 }
00405 
00406         }
00407 
00408 }
00409 
00418 <a class="code" href="classBlock.html">Block</a> <a class="code" href="classBlock.html#a11">Block::operator =</a>(<a class="code" href="classBlock.html">Block</a> &amp;Block2)
00419 {
00420         
00421         m_shape[0][0] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[0][0];
00422         m_shape[0][1] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[0][1];
00423         m_shape[0][2] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[0][2];
00424         m_shape[0][3] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[0][3];
00425         m_shape[0][4] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[0][4];
00426         m_shape[0][5] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[0][5];
00427         m_shape[0][6] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[0][6];
00428         m_shape[0][7] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[0][7];
00429         m_shape[0][8] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[0][8];
00430         m_shape[0][9] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[0][9];
00431         m_shape[0][10] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[0][10];
00432         m_shape[0][11] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[0][11];
00433         m_shape[0][12] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[0][12];
00434         m_shape[0][13] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[0][13];
00435         m_shape[0][14] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[0][14];
00436         m_shape[0][15] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[0][15];
00437 
00438         m_shape[1][0] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[1][0];
00439         m_shape[1][1] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[1][1];
00440         m_shape[1][2] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[1][2];
00441         m_shape[1][3] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[1][3];
00442         m_shape[1][4] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[1][4];
00443         m_shape[1][5] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[1][5];
00444         m_shape[1][6] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[1][6];
00445         m_shape[1][7] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[1][7];
00446         m_shape[1][8] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[1][8];
00447         m_shape[1][9] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[1][9];
00448         m_shape[1][10] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[1][10];
00449         m_shape[1][11] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[1][11];
00450         m_shape[1][12] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[1][12];
00451         m_shape[1][13] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[1][13];
00452         m_shape[1][14] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[1][14];
00453         m_shape[1][15] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[1][15];
00454 
00455         m_shape[2][0] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[2][0];
00456         m_shape[2][1] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[2][1];
00457         m_shape[2][2] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[2][2];
00458         m_shape[2][3] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[2][3];
00459         m_shape[2][4] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[2][4];
00460         m_shape[2][5] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[2][5];
00461         m_shape[2][6] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[2][6];
00462         m_shape[2][7] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[2][7];
00463         m_shape[2][8] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[2][8];
00464         m_shape[2][9] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[2][9];
00465         m_shape[2][10] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[2][10];
00466         m_shape[2][11] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[2][11];
00467         m_shape[2][12] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[2][12];
00468         m_shape[2][13] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[2][13];
00469         m_shape[2][14] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[2][14];
00470         m_shape[2][15] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[2][15];
00471 
00472         m_shape[3][0] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[3][0];
00473         m_shape[3][1] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[3][1];
00474         m_shape[3][2] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[3][2];
00475         m_shape[3][3] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[3][3];
00476         m_shape[3][4] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[3][4];
00477         m_shape[3][5] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[3][5];
00478         m_shape[3][6] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[3][6];
00479         m_shape[3][7] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[3][7];
00480         m_shape[3][8] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[3][8];
00481         m_shape[3][9] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[3][9];
00482         m_shape[3][10] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[3][10];
00483         m_shape[3][11] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[3][11];
00484         m_shape[3][12] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[3][12];
00485         m_shape[3][13] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[3][13];
00486         m_shape[3][14] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[3][14];
00487         m_shape[3][15] = Block2.<a class="code" href="classBlock.html#m0">m_shape</a>[3][15];
00488 
00489         m_direction = Block2.<a class="code" href="classBlock.html#a4">getDirection</a>();
00490 
00491         m_maxDirections = Block2.<a class="code" href="classBlock.html#a5">getMaxDirections</a>();
00492 
00493         m_x = Block2.<a class="code" href="classBlock.html#a6">getX</a>();
00494 
00495         m_y = Block2.<a class="code" href="classBlock.html#a7">getY</a>();
00496 
00497         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00498 
00499 }
</pre></div><hr><address style="align: right;"><small>Generated on Wed Jan 8 19:41:41 2003 for Swift blocks by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc1 </small></address>
</body>
</html>
